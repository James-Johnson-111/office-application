const express = require('express');
const router = express.Router();
const db = require('./connection');

db.query(
    "CREATE TABLE candidate_info (candidate_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_name varchar(255) NOT NULL, candidate_passport varchar(255) NOT NULL, candidate_age int(11) NOT NULL, candidate_nationality varchar(255) NOT NULL, candidate_gender varchar(255) NOT NULL, candidate_marital_status varchar(255) NOT NULL, candidate_profession varchar(255) NOT NULL, place_of_issue varchar(255) NOT NULL, travelling_to varchar(255), insert_date varchar(255), inserted_time varchar(255), insert_by varchar(255), edit_date varchar(255), edited_time varchar(255), edit_by varchar(255));" +  // * candidate info table in which candidate data store it is base/master table
    "CREATE TABLE candidate_images ( id int(11) AUTO_INCREMENT PRIMARY KEY NOT NULL, candidate_id int(11) NOT NULL, candidate_image varchar(255) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * candidate images table to store candidate images
    "CREATE TABLE users (user_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, login_id varchar(255) NOT NULL, params varchar(255), user_password varchar(255) NOT NULL, user_role varchar(255) NOT NULL, user_image varchar(255) NOT NULL);" + // * users table save all users
    "CREATE TABLE candidate_logs (log_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, candidate_name varchar(255) NOT NULL, candidate_passport varchar(255) NOT NULL, candidate_age int(11) NOT NULL, candidate_nationality varchar(255) NOT NULL, candidate_gender varchar(255) NOT NULL, candidate_marital_status varchar(255) NOT NULL, candidate_profession varchar(255) NOT NULL, place_of_issue varchar(255) NOT NULL, travelling_to varchar(255), log_date varchar(255) NOT NULL, log_time varchar(255) NOT NULL, logged_by varchar(255) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * candidate log table in which store all logs related to candidate
    "CREATE TABLE candidate_tokens (token_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, token_status varchar(255) NOT NULL, token_no varchar(255) NOT NULL, token_date varchar(255) NOT NULL, token_time varchar(255) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * candidate tokens table in which store all tokens related to candidate
    "CREATE TABLE tokens (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, token varchar(255) NOT NULL, token_status varchar(255), token_date varchar(255) NOT NULL, token_time varchar(255) NOT NULL);" + // * tokens table store all the tokens generated by the system
    "CREATE TABLE covid_status (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, status varchar(255) NOT NULL, date varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), candidate_id int(11) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * covid-19 table in which store the status of covid-19 test of candidate
    "CREATE TABLE mmr1_status (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, status varchar(255) NOT NULL, date varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), candidate_id int(11) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * mmr1 table in which store the status of covid-19 test of candidate
    "CREATE TABLE mmr2_status (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, status varchar(255) NOT NULL, date varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), candidate_id int(11) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * mmr2 table in which store the status of covid-19 test of candidate
    "CREATE TABLE polio_status (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, status varchar(255) NOT NULL, date varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), candidate_id int(11) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * polio table in which store the status of covid-19 test of candidate
    "CREATE TABLE meningococcal_status (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, status varchar(255) NOT NULL, date varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), candidate_id int(11) NOT NULL,FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * meningococcal table in which store the status of covid-19 test of candidate
    "CREATE TABLE logs (log_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, log_activity varchar(255) NOT NULL, logged_by varchar(255) NOT NULL, log_date varchar(255) NOT NULL, log_time varchar(255) NOT NULL);" + // * logs table in which store all the logs of users activity
    "CREATE TABLE medical_e_1 (examination_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, height varchar(255) NOT NULL, weight varchar(255) NOT NULL, body_mass_index varchar(255) NOT NULL, blood_pressure varchar(255) NOT NULL, pulse varchar(255) NOT NULL, pr varchar(255) NOT NULL, unaided_distant_rt_eye varchar(255) NOT NULL, unaided_distant_lt_eye varchar(255) NOT NULL, aided_distant_rt_eye varchar(255) NOT NULL, aided_distant_lt_eye varchar(255) NOT NULL, unaided_near_rt_eye varchar(255) NOT NULL, unaided_near_lt_eye varchar(255) NOT NULL, aided_near_rt_eye varchar(255) NOT NULL, aided_near_lt_eye varchar(255) NOT NULL, color_vision varchar(255) NOT NULL, right_ear varchar(255) NOT NULL, left_ear varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255),FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * first Medical examination table in which store all the data of first medical exam of candidate
    "CREATE TABLE medical_e_2 (examination_id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, general_appearance varchar(255) NOT NULL, cardio_vascular varchar(255) NOT NULL, respiratory varchar(255) NOT NULL, ent varchar(255) NOT NULL, Abdomen varchar(255) NOT NULL, hernia varchar(255) NOT NULL, hydrocele varchar(255) NOT NULL, exremities varchar(255) NOT NULL, back varchar(255) NOT NULL, skin varchar(255) NOT NULL, cns varchar(255) NOT NULL, deformities varchar(255) NOT NULL, speech varchar(255) NOT NULL, behaviour varchar(255) NOT NULL, orientation varchar(255) NOT NULL, memory varchar(255) NOT NULL, concentration varchar(255) NOT NULL, mood varchar(255) NOT NULL, thoughts varchar(255) NOT NULL, others varchar(255) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255), FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * second Medical examination table in which store all the data of second medical exam of candidate
    "CREATE TABLE vaccination (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, polio_status int(11) NOT NULL, mmr1_status int(11) NOT NULL, mmr2_status int(11) NOT NULL, meningococcal_status int(11) NOT NULL, covid_status int(11) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255),FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id));" + // * vaccination table store all the ids of statuses of other tests
    "CREATE TABLE laboratory_investigation (id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, candidate_id int(11) NOT NULL, blood_group varchar(255) NOT NULL, hemoglobin varchar(255) NOT NULL, malaria varchar(255) NOT NULL, micro_filaria varchar(255) NOT NULL, RBs varchar(255) NOT NULL, lft varchar(255) NOT NULL, creatinine varchar(255) NOT NULL, hivIII varchar(255) NOT NULL, HbsAg varchar(255) NOT NULL, antiHcv varchar(255) NOT NULL, vdrl varchar(255) NOT NULL, tpha varchar(255) NOT NULL, sugar varchar(255) NOT NULL, albumin varchar(255) NOT NULL, CovidPCR varchar(255) NOT NULL, CovidAntibodies varchar(255) NOT NULL, helminthes varchar(255) NOT NULL, ova varchar(255) NOT NULL, cyst varchar(255) NOT NULL, others varchar(255) NOT NULL, vaccination_id int(11) NOT NULL, insert_by varchar(255) NOT NULL, insert_date varchar(255), insert_time varchar(255), edit_by varchar(255), edit_date varchar(255), edit_time varchar(255),FOREIGN KEY (candidate_id) REFERENCES candidate_info(candidate_id),FOREIGN KEY (vaccination_id) REFERENCES vaccination(id));" // * laboratory investigation table is to store the tests of candidate
    ,
    ( err, rslt ) => {

        if( err )
        {

            console.log( err );

        }else
        {

            console.log( "All tables are created successfully" );

        }

    }
)

module.exports = router;